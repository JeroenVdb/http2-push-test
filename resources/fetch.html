<!DOCTYPE html>
<p><a href="./">Reload</a></p>
<p><button class="creds">Fetch with credentials</button></p>
<p><button class="no-creds">Fetch without credentials</button></p>
<p><button class="xhr">Fetch with XHR</button></p>
<p><button class="iframe">Open self in iframe</button></p>
<p><button class="iframe-data">Open data in iframe</button></p>
<p><button class="iframe-data-sandbox">Open data in sandbox iframe</button></p>
<script>
  document.querySelector('.creds').onclick = () => {
    fetch('data', {
      credentials: 'include'
    }).then(r => r.text())
      .then(text => console.log(text))
      .catch(err => console.log('failed', err));
  };

  document.querySelector('.no-creds').onclick = () => {
    fetch('data')
      .then(r => r.text())
      .then(text => console.log(text))
      .catch(err => console.log('failed', err));
  };

  document.querySelector('.xhr').onclick = () => {
    const xhr = new XMLHttpRequest();
    xhr.open('GET', 'data');
    xhr.onload = () => {
      console.log(xhr.responseText);
    };
    xhr.send();
  };

  document.querySelector('.iframe').onclick = () => {
    const iframe = document.createElement('iframe');
    document.body.appendChild(iframe);
    iframe.height = 800;
    iframe.width = '100%';
    iframe.src = './';
  };

  document.querySelector('.iframe-data').onclick = () => {
    const iframe = document.createElement('iframe');
    document.body.appendChild(iframe);
    iframe.height = 200;
    iframe.width = '100%';
    iframe.src = 'data';
  };

  document.querySelector('.iframe-data-sandbox').onclick = () => {
    const iframe = document.createElement('iframe');
    document.body.appendChild(iframe);
    iframe.height = 200;
    iframe.width = '100%';
    iframe.sandbox = true;
    iframe.src = 'data';
  };
</script>